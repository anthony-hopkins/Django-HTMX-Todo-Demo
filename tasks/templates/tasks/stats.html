<!-- =============================================================================
     STATISTICS TEMPLATE - Shows task counts and gets updated dynamically
     ============================================================================= -->
<!-- 
    This template shows the statistics section with:
    1. Total number of tasks
    2. Number of completed tasks  
    3. Number of pending tasks
    
    IMPORTANT: This template is used in two ways:
    1. Initially loaded on the main page
    2. Fetched via AJAX to update the stats without refreshing the page
-->

<!-- 
    The container div with the 'stats' class.
    This ID is important because the JavaScript uses it to update the stats.
    
    Note: The CSS classes ensure this maintains the proper layout and doesn't shrink.
-->
<div class="stats" id="stats-section">
    
    <!-- =============================================================================
         TOTAL TASKS - Shows how many tasks exist
         ============================================================================= -->
    <div class="stat-item">
        <!-- 
            Django template syntax: {{ stats.total }} gets the total number of tasks
            The 'stats' variable is passed from the view function
        -->
        <div class="stat-number" id="total-tasks">{{ stats.total }}</div>
        <div class="stat-label">Total Tasks</div>
    </div>
    
    <!-- =============================================================================
         COMPLETED TASKS - Shows how many tasks are done
         ============================================================================= -->
    <div class="stat-item">
        <!-- 
            Django template syntax: {{ stats.completed }}
            This gets the actual count of completed tasks from the view
        -->
        <div class="stat-number" id="completed-tasks">{{ stats.completed }}</div>
        <div class="stat-label">Completed</div>
    </div>
    
    <!-- =============================================================================
         PENDING TASKS - Shows how many tasks are still to do
         ============================================================================= -->
    <div class="stat-item">
        <!-- 
            Django template syntax: {{ stats.pending }}
            This gets the actual count of pending tasks from the view
        -->
        <div class="stat-number" id="pending-tasks">{{ stats.pending }}</div>
        <div class="stat-label">Pending</div>
    </div>
</div>

<!-- 
    HOW THIS TEMPLATE GETS UPDATED:
    
    1. When the page first loads, Django renders this with the current task data
    2. When someone adds/edits/deletes a task, HTMX makes a request to the server
    3. After the HTMX request completes, JavaScript runs and fetches fresh stats
    4. The JavaScript updates only the numbers, preserving the layout
    
    This approach prevents the container from shrinking because we never replace
    the entire stats section - just update the individual numbers.
-->
